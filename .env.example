# ============================================================================
# LGTM Stack 공통 환경변수 (.env.example)
# ============================================================================
# 사용법: cp .env.example .env 후 값을 수정하세요
# ============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# 공통 설정
# ─────────────────────────────────────────────────────────────────────────────
COMPOSE_PROJECT_NAME=jsj-lgtm
CONTAINER_PREFIX=jsj
DOCKER_NETWORK=jsj-lgtm-net

# 타임존
TZ=Asia/Seoul

# ─────────────────────────────────────────────────────────────────────────────
# AWS 설정
# ─────────────────────────────────────────────────────────────────────────────
AWS_REGION=ap-northeast-2
S3_BUCKET=<YOUR_S3_BUCKET_NAME>

# AWS 자격증명 (EC2 IAM Role 사용 시 주석 처리)
# AWS_ACCESS_KEY_ID=<YOUR_ACCESS_KEY>
# AWS_SECRET_ACCESS_KEY=<YOUR_SECRET_KEY>

# ─────────────────────────────────────────────────────────────────────────────
# 이미지 버전 (latest 사용 금지, 버전 고정)
# ─────────────────────────────────────────────────────────────────────────────
MIMIR_VERSION=2.16.0
LOKI_VERSION=3.5.1
TEMPO_VERSION=2.9.0
PYROSCOPE_VERSION=1.13.5
GRAFANA_VERSION=12.1.0
ALLOY_VERSION=1.9.2
MEMCACHED_VERSION=1.6.28-alpine

# ─────────────────────────────────────────────────────────────────────────────
# Grafana 설정
# ─────────────────────────────────────────────────────────────────────────────
GF_ADMIN_USER=admin
GF_ADMIN_PASSWORD=<CHANGE_ME_STRONG_PASSWORD>
GF_SERVER_ROOT_URL=https://<YOUR_DOMAIN>
GF_LOG_LEVEL=info

# ─────────────────────────────────────────────────────────────────────────────
# 테넌트 설정
# ─────────────────────────────────────────────────────────────────────────────
DEFAULT_TENANT=jsj-lgtm
CLOUDFLARE_TENANT=jsj-cloudflare
RDS_TENANT=jsj-rds

# ─────────────────────────────────────────────────────────────────────────────
# 로깅 설정
# ─────────────────────────────────────────────────────────────────────────────
LOG_MAX_SIZE=100m
LOG_MAX_FILE=5

# ─────────────────────────────────────────────────────────────────────────────
# 포트 설정
# ─────────────────────────────────────────────────────────────────────────────
# Mimir
MIMIR_HTTP_PORT=9009
MIMIR_GRPC_PORT=9095
MEMCACHED_PORT=11212

# Loki
LOKI_HTTP_PORT=3100

# Tempo
TEMPO_HTTP_PORT=3200
TEMPO_OTLP_GRPC_PORT=4317
TEMPO_OTLP_HTTP_PORT=4318

# Pyroscope
PYROSCOPE_HTTP_PORT=4040
PYROSCOPE_GRPC_PORT=4041

# Grafana
GRAFANA_HTTP_PORT=3000

# Alloy
ALLOY_HTTP_PORT=12345
ALLOY_METRICS_PORT=9080

# ─────────────────────────────────────────────────────────────────────────────
# Cloudflare (Alloy에서 사용, 필요시 설정)
# ─────────────────────────────────────────────────────────────────────────────
# CF_API_TOKEN=<YOUR_CLOUDFLARE_API_TOKEN>
# CF_ZONE_ID_1=<YOUR_ZONE_ID>
